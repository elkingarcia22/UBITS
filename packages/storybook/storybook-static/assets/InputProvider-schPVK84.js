const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BoEJW2yg.js","./preload-helper-PPVm8Dsz.js"])))=>i.map(i=>d[i]);
import{_ as N}from"./preload-helper-PPVm8Dsz.js";import{c as z,r as j}from"./ListProvider-Dp4g9_1Y.js";import{c as M}from"./ModalProvider-Cwkz7B9R.js";function O(l){const{containerId:o,label:s="",placeholder:a="",helperText:p="",size:d="md",state:e="default",type:i="text",showLabel:b=!0,showHelper:n=!1,showCounter:f=!1,maxLength:r=50,mandatory:y=!1,mandatoryType:c="obligatorio",leftIcon:t="",rightIcon:m="",value:g="",className:v="",attributes:h={},showRichTextToolbar:x=!1}=l;let u="";if(b&&s){const $=y?` <span class="ubits-input-mandatory">(${c})</span>`:"";u+=`<label class="ubits-input-label">${s}${$}</label>`}const T=t&&t.trim()!=="",I=m&&m.trim()!=="";T&&t.startsWith("fa-")?`${t}`:T&&`${t}`,I&&m.startsWith("fa-")?`${m}`:I&&`${m}`,u+='<div style="position: relative; display: inline-block; width: 100%;">';let L=m,k=I,R=t,D=T;const C=["ubits-input",`ubits-input--${d}`];e!=="default"&&C.push(`ubits-input--${e}`),v&&C.push(v);const E=e==="disabled"?" disabled":"",S=f?` maxlength="${r}"`:"",B=T?"padding-left: 40px;":"padding-left: 12px;",q=I?"padding-right: 40px;":"padding-right: 12px;";if(i==="select"){const $=l.selectOptions||[],w=g&&$.find(P=>P.value===g)?.text||a;u+=`<input type="text" class="${C.join(" ")}" style="width: 100%; ${B} ${q}" value="${w}" readonly>`,I||(L="fa-chevron-down",k=!0,q==="padding-right: 12px;"&&(u=u.replace(`style="width: 100%; ${B} ${q}"`,`style="width: 100%; ${B} padding-right: 40px;"`)))}else if(i==="textarea")if(x){u+='<div class="ubits-input-rich-text-wrapper">',u+=`
        <div class="ubits-input-rich-text-toolbar" data-container-id="${o}">
          <button type="button" class="ubits-rich-text-btn" data-command="bold" title="Negrita">
            <i class="fas fa-bold"></i>
          </button>
          <button type="button" class="ubits-rich-text-btn" data-command="italic" title="Cursiva">
            <i class="fas fa-italic"></i>
          </button>
          <button type="button" class="ubits-rich-text-btn" data-command="underline" title="Subrayado">
            <i class="fas fa-underline"></i>
          </button>
          <div class="ubits-rich-text-separator"></div>
          <button type="button" class="ubits-rich-text-btn" data-command="justifyLeft" title="Alinear izquierda">
            <i class="fas fa-align-left"></i>
          </button>
          <button type="button" class="ubits-rich-text-btn" data-command="justifyCenter" title="Alinear centro">
            <i class="fas fa-align-center"></i>
          </button>
          <button type="button" class="ubits-rich-text-btn" data-command="justifyRight" title="Alinear derecha">
            <i class="fas fa-align-right"></i>
          </button>
          <div class="ubits-rich-text-separator"></div>
          <button type="button" class="ubits-rich-text-btn" data-command="insertUnorderedList" title="Lista con viñetas">
            <i class="fas fa-list-ul"></i>
          </button>
          <button type="button" class="ubits-rich-text-btn" data-command="insertOrderedList" title="Lista numerada">
            <i class="fas fa-list-ol"></i>
          </button>
          <div class="ubits-rich-text-separator"></div>
          <button type="button" class="ubits-rich-text-btn" data-command="insertImage" title="Insertar imagen">
            <i class="fas fa-image"></i>
          </button>
          <button type="button" class="ubits-rich-text-btn" data-command="insertTable" title="Insertar tabla">
            <i class="fas fa-table"></i>
          </button>
          <button type="button" class="ubits-rich-text-btn" data-command="createLink" title="Insertar enlace">
            <i class="fas fa-link"></i>
          </button>
          <button type="button" class="ubits-rich-text-btn" data-command="code" title="Código">
            <i class="fas fa-code"></i>
          </button>
          <div class="ubits-rich-text-separator"></div>
          <button type="button" class="ubits-rich-text-btn" data-command="removeFormat" title="Limpiar formato">
            <i class="fas fa-remove-format"></i>
          </button>
        </div>
      `;let $=`width: 100%; min-height: 80px; resize: vertical; ${B} ${q}; border: none; border-radius: 0;`;e==="disabled"&&($+="; background: var(--ubits-bg-3) !important; color: var(--ubits-fg-1-low) !important;");const w=`${o}-textarea`;u+=`<textarea id="${w}" class="${C.join(" ")}" style="${$}" placeholder="${a}"${E}${S}>${g}</textarea>`,u+="</div>"}else{let $=`width: 100%; min-height: 80px; resize: vertical; ${B} ${q}`;e==="disabled"&&($+="; background: var(--ubits-bg-3) !important; color: var(--ubits-fg-1-low) !important; border-color: var(--ubits-border-2) !important;");const w=`${o}-textarea`;u+=`<textarea id="${w}" class="${C.join(" ")}" style="${$}" placeholder="${a}"${E}${S}>${g}</textarea>`}else if(i==="search"){let $=B,w=q;T||(R="fa-search",D=!0,$=d==="xs"?"padding-left: 32px;":d==="sm"?"padding-left: 36px;":d==="md"?"padding-left: 40px;":"padding-left: 44px;"),I||(L="fa-times",k=!0,w=d==="xs"?"padding-right: 32px;":d==="sm"?"padding-right: 36px;":d==="md"?"padding-right: 40px;":"padding-right: 44px;");let P=`width: 100%; ${$} ${w}`;e==="disabled"&&(P+="; background: var(--ubits-bg-3) !important; color: var(--ubits-fg-1-low) !important; border-color: var(--ubits-border-2) !important;"),u+=`<input type="text" class="${C.join(" ")}" style="${P}" placeholder="${a}" value="${g}" autocomplete="off"${E}${S}>`}else if(i==="autocomplete"){let $=B,w=q;T||(R="fa-search",D=!0,$=d==="xs"?"padding-left: 32px;":d==="sm"?"padding-left: 36px;":d==="md"?"padding-left: 40px;":"padding-left: 44px;"),I||(L="fa-times",k=!0,w=d==="xs"?"padding-right: 32px;":d==="sm"?"padding-right: 36px;":d==="md"?"padding-right: 40px;":"padding-right: 44px;");let P=`width: 100%; ${$} ${w}`;e==="disabled"&&(P+="; background: var(--ubits-bg-3) !important; color: var(--ubits-fg-1-low) !important; border-color: var(--ubits-border-2) !important;"),u+=`<input type="text" class="${C.join(" ")}" style="${P}" placeholder="${a}" value="${g}" autocomplete="off"${E}${S}>`}else if(i==="calendar"){let $=B,w=q;I||(L="fa-calendar",k=!0,w=d==="xs"?"padding-right: 32px;":d==="sm"?"padding-right: 36px;":d==="md"?"padding-right: 40px;":"padding-right: 44px;");let P=`width: 100%; ${$} ${w}`;e==="disabled"&&(P+="; background: var(--ubits-bg-3) !important; color: var(--ubits-fg-1-low) !important; border-color: var(--ubits-border-2) !important;"),u+=`<input type="text" class="${C.join(" ")}" style="${P}" placeholder="${a}" value="${g}" readonly${E}>`}else if(i==="password"){let $=B,w=q;I||(L="fa-eye",k=!0,w=d==="xs"?"padding-right: 32px;":d==="sm"?"padding-right: 36px;":d==="md"?"padding-right: 40px;":"padding-right: 44px;");let P=`width: 100%; ${$} ${w}`;e==="disabled"&&(P+="; background: var(--ubits-bg-3) !important; color: var(--ubits-fg-1-low) !important; border-color: var(--ubits-border-2) !important;"),u+=`<input type="password" class="${C.join(" ")}" style="${P}" placeholder="${a}" value="${g}"${E}${S}>`}else u+=`<input type="${i}" class="${C.join(" ")}" style="width: 100%; ${B} ${q}" placeholder="${a}" value="${g}"${E}${S}>`;if(D){const $=R.startsWith("fa-")?`far ${R}`:`far fa-${R}`;u+=`<i class="${$} ubits-input-icon-left" style="position: absolute; left: var(--ubits-spacing-md, 12px); top: 50%; transform: translateY(-50%); color: var(--ubits-fg-1-medium); pointer-events: none; z-index: 1;"></i>`}if(k){const $=L.startsWith("fa-")?`far ${L}`:`far fa-${L}`;u+=`<i class="${$} ubits-input-icon-right" style="position: absolute; right: var(--ubits-spacing-md, 12px); top: 50%; transform: translateY(-50%); color: var(--ubits-fg-1-medium); pointer-events: none; z-index: 1;"></i>`}u+="</div>",(n||f)&&(u+='<div class="ubits-input-helper">',n&&p&&(u+=`<span>${p}</span>`),f&&(u+=`<span class="ubits-input-counter">0/${r}</span>`),u+="</div>");const A=Object.entries(h).map(([$,w])=>`${$}="${w}"`).join(" ");return A?`<div ${A}>${u}</div>`:u}function it(l){const{containerId:o,onChange:s,onFocus:a,onBlur:p,showCounter:d=!1,maxLength:e=50,type:i="text",selectOptions:b=[],autocompleteOptions:n=[],value:f=""}=l;if(!o)return console.error("UBITS Input: containerId es requerido"),null;const r=document.getElementById(o);if(!r)return console.error(`UBITS Input: No se encontró el contenedor con ID "${o}"`),null;const y=O(l);r.innerHTML=y;const c=r.querySelector('div[style*="position: relative"]'),t=r.querySelector(".ubits-input"),m=r.querySelector(".ubits-input-counter");if(!t||!c)return console.error("UBITS Input: No se pudo crear el elemento input"),null;if(getComputedStyle(r).position==="static"&&(r.style.position="relative"),i==="select"&&V(r,t,b,f,l.placeholder||"",s,l.size||"md"),i==="search"&&W(r,t,s),i==="autocomplete"&&U(r,t,n,s,l.size||"md"),i==="calendar"&&Y(r,t,s),i==="password"&&F(r,t),i==="textarea"&&l.showRichTextToolbar?Q(r,t,l.onChange):i==="textarea"&&!l.showRichTextToolbar&&X(r,t),d&&m&&_(t,m,e),s&&typeof s=="function"){const g=i==="select"?"change":"input";t.addEventListener(g,v=>{s(v.target.value,v)})}return a&&typeof a=="function"&&t.addEventListener("focus",g=>{a(g.target.value,g)}),p&&typeof p=="function"&&t.addEventListener("blur",g=>{p(g.target.value,g)}),{element:c,inputElement:t,getValue:()=>t.value,setValue:g=>{t.value=g,d&&m&&H(m,g.length,e)},focus:()=>t.focus(),blur:()=>t.blur(),disable:()=>{t.disabled=!0,t.classList.add("ubits-input--disabled")},enable:()=>{t.disabled=!1,t.classList.remove("ubits-input--disabled")},setState:g=>{if(["ubits-input--hover","ubits-input--focus","ubits-input--active","ubits-input--invalid","ubits-input--disabled"].forEach(h=>t.classList.remove(h)),g!=="default"&&t.classList.add(`ubits-input--${g}`),g==="disabled"?t.disabled=!0:t.disabled=!1,i==="textarea"&&l.showRichTextToolbar){const x=t.closest(".ubits-input-rich-text-wrapper")?.querySelector(".ubits-input-rich-text-toolbar");if(x){const u=window.getComputedStyle(x).borderBottom;window.getComputedStyle(x).borderTop,u&&u!=="none"&&u!=="0px"&&(console.warn(`[Rich Text] ⚠️ Línea divisoria detectada en setState("${g}"), removiendo...`),x.style.borderBottom="none",x.style.borderTop="none")}}}}}function F(l,o){const s=l.querySelector(".ubits-input-icon-right");if(s){let a=!1;s.style.pointerEvents="auto",s.style.cursor="pointer";const d=!s.className.includes("fa-eye");s.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),a=!a,a?(o.type="text",d||(s.className="far fa-eye-slash ubits-input-icon-right")):(o.type="password",d||(s.className="far fa-eye ubits-input-icon-right"))})}}function W(l,o,s){const a=l.querySelector(".ubits-input-icon-right");if(a){a.style.display=o.value.length>0?"block":"none",a.style.pointerEvents="auto",a.style.cursor="pointer";const p=()=>{a.style.display=o.value.length>0?"block":"none"};o.addEventListener("input",p),a.addEventListener("click",d=>{d.preventDefault(),o.value="",o.focus(),p(),s&&s("")})}}function U(l,o,s,a,p="md"){const d=p==="xs"?"xs":p==="sm"?"sm":p==="md"?"md":"lg",e=l.querySelector(".ubits-input-icon-right");if(e){e.style.display=o.value.length>0?"block":"none",e.style.pointerEvents="auto",e.style.cursor="pointer";const n=()=>{e.style.display=o.value.length>0?"block":"none"};o.addEventListener("input",n),e.addEventListener("click",f=>{f.preventDefault(),o.value="",o.focus(),n();const r=l.querySelector(".ubits-autocomplete-list-container");r&&(r.style.display="none"),a&&a("")})}const i=document.createElement("div");i.className="ubits-autocomplete-list-container",i.style.cssText=`
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 1000;
    margin-top: 4px;
    display: none;
  `,l.appendChild(i);const b=(n=!1)=>{const f=o.value.toLowerCase();let r;if(n||f.length<1?r=s.slice(0,8):r=s.filter(t=>t.text.toLowerCase().includes(f)).slice(0,8),r.length===0){i.style.display="none";return}const y=r.map(t=>({label:t.text,state:"default",value:t.value,selected:!1})),c=`ubits-autocomplete-list-${l.id}`;i.id=c,i.innerHTML="";try{z({containerId:c,items:y,size:d,maxHeight:"200px",onSelectionChange:(t,m)=>{t&&t.value&&(o.value=t.label,i.style.display="none",e&&(e.style.display="block"),a&&a(t.value))}}),f.length>0&&i.querySelectorAll(".ubits-list-item").forEach(m=>{const g=m.textContent||"";if(g.toLowerCase().includes(f)){const v=new RegExp(`(${f})`,"gi"),h=g.replace(v,"<strong>$1</strong>");m.innerHTML=h}})}catch(t){console.warn("Using renderList fallback for autocomplete:",t);const m=j({items:y,size:d,maxHeight:"200px"});i.innerHTML=m,f.length>0&&i.querySelectorAll(".ubits-list-item").forEach(h=>{const x=h.textContent||"";if(x.toLowerCase().includes(f)){const u=new RegExp(`(${f})`,"gi"),T=x.replace(u,"<strong>$1</strong>");h.innerHTML=T}}),i.querySelectorAll(".ubits-list-item").forEach((v,h)=>{const x=y[h];x&&x.state!=="disabled"&&v.addEventListener("click",()=>{o.value=x.label,i.style.display="none",e&&(e.style.display="block"),a&&a(x.value||"")})})}i.style.display="block"};o.addEventListener("focus",()=>{b(!0)}),o.addEventListener("input",()=>{b(!1)}),o.addEventListener("blur",()=>{setTimeout(()=>i.style.display="none",150)})}function V(l,o,s,a,p,d,e="md"){o.style.cursor="pointer";const i=e==="xs"?"xs":e==="sm"?"sm":e==="md"?"md":"lg",b=document.createElement("div");b.className="ubits-select-list-container",b.style.cssText=`
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 1000;
    margin-top: 4px;
    display: none;
  `,l.appendChild(b);const n=50;let f=0,r=[],y=!1;const c=(t=0)=>{y||(y=!0,setTimeout(()=>{const m=t*n,g=Math.min(m+n,s.length),h=s.slice(m,g).map(u=>({label:u.text,state:a===u.value?"active":"default",value:u.value,selected:a===u.value}));t===0?r=h:r=[...r,...h];const x=`ubits-select-list-${l.id}`;b.id=x,b.innerHTML="";try{z({containerId:x,items:r,size:i,maxHeight:"200px",onSelectionChange:(u,T)=>{u&&u.value&&(o.value=u.label,b.style.display="none",d&&d(u.value))}})}catch(u){console.warn("Using renderList fallback for select:",u);const T=j({items:r,size:i,maxHeight:"200px"});b.innerHTML=T,b.querySelectorAll(".ubits-list-item").forEach((L,k)=>{const R=r[k];R&&R.state!=="disabled"&&L.addEventListener("click",()=>{o.value=R.label,b.style.display="none",d&&d(R.value||"")})})}if(g<s.length){const u=b.querySelector(".ubits-list");if(u){const T=new IntersectionObserver(L=>{L[0].isIntersecting&&!y&&g<s.length&&(f++,c(f))},{root:u,rootMargin:"50px"}),I=b.querySelector(".ubits-list-item:last-child");I&&T.observe(I)}}y=!1},150))};o.addEventListener("click",()=>{b.style.display==="block"?b.style.display="none":(f=0,r=[],c(0),b.style.display="block")}),document.addEventListener("click",t=>{l.contains(t.target)||(b.style.display="none")})}function Y(l,o,s){let a=null,p=null;const d=n=>{const f=String(n.getDate()).padStart(2,"0"),r=String(n.getMonth()+1).padStart(2,"0"),y=n.getFullYear();return`${f}/${r}/${y}`},e=n=>{if(!n)return null;const[f,r,y]=n.split("/");return!f||!r||!y?null:new Date(parseInt(y),parseInt(r)-1,parseInt(f))},i=async()=>{if(o.type==="date"&&(o.type="text",o.setAttribute("readonly","readonly")),p&&p.style.display!=="none"){p.style.display="none";return}if(p||(p=document.createElement("div"),p.className="ubits-calendar-picker-container",p.style.cssText="position: absolute; top: 100%; left: 0; right: 0; z-index: 1000; margin-top: 4px; display: none;",l.style.position="relative",l.appendChild(p)),a){p.style.display="block";return}try{const n=await N(()=>import("./index-BoEJW2yg.js").then(c=>c.C),__vite__mapDeps([0,1]),import.meta.url),{createCalendar:f}=n,r=o.value,y=e(r)||new Date;a=f({mode:"single",selectedDate:e(r),initialDate:y,onDateSelect:c=>{const t=d(c);o.value=t,p&&(p.style.display="none"),s&&s(t)}}),p.appendChild(a.element),p.style.display="block"}catch(n){console.error("❌ [Calendar Picker] Error cargando Calendar UBITS:",n),p&&(p.innerHTML='<div style="padding: var(--ubits-spacing-lg, 16px); background: var(--ubits-bg-1); border: 1px solid var(--ubits-border-1); border-radius: var(--ubits-border-radius-lg, 8px); color: var(--ubits-fg-1-high);">Error al cargar el calendario</div>',p.style.display="block")}};o.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),i()}),o.addEventListener("focus",n=>{n.preventDefault(),n.stopPropagation(),i()});const b=l.querySelector(".ubits-input-icon-right");b&&b.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),i()}),document.addEventListener("click",n=>{p&&!l.contains(n.target)&&(p.style.display="none")}),document.addEventListener("keydown",n=>{n.key==="Escape"&&p&&(p.style.display="none")})}function _(l,o,s){const a=()=>{H(o,l.value.length,s),l.value.length>s&&(l.value=l.value.substring(0,s),H(o,s,s))};l.addEventListener("input",a),H(o,l.value.length,s)}function H(l,o,s){l.textContent=`${o}/${s}`,o>=s?l.classList.add("ubits-input-counter--limit"):l.classList.remove("ubits-input-counter--limit")}function G(l,o){const s=`ubits-rich-text-image-modal-${Date.now()}`,a=`${s}-input`,p={title:"Insertar imagen",size:"md",bodyContent:`
      <div style="padding: var(--ubits-spacing-md, 8px) 0;">
        <label class="ubits-input-label" style="margin-bottom: var(--ubits-spacing-sm, 8px);">
          URL de la imagen:
        </label>
        <div style="display: flex; gap: var(--ubits-spacing-sm, 8px); align-items: flex-start;">
          <input 
            type="text" 
            id="${a}"
            class="ubits-input ubits-input--md"
            placeholder="https://ejemplo.com/imagen.jpg"
            style="flex: 1;"
          />
          <button 
            type="button"
            id="${s}-insert-btn"
            class="ubits-button ubits-button--primary ubits-button--md"
          >
            <span>Insertar imagen</span>
          </button>
        </div>
      </div>
    `,footerButtons:{secondary:{label:"Cancelar",onClick:()=>{}}},onClose:()=>{const n=document.getElementById(s)?.closest(".ubits-modal-overlay");n&&setTimeout(()=>n.remove(),300)},closeOnOverlayClick:!0,open:!0},d=M(p),e=d.element;e.id=s;const i=document.getElementById(`${s}-insert-btn`),b=document.getElementById(a);if(i&&b){const n=()=>{const r=b.value.trim();if(r){const y=document.createElement("img");y.src=r,y.style.maxWidth="100%",y.style.height="auto",y.style.display="block",y.style.margin="var(--ubits-spacing-sm, 8px) 0";const c=window.getSelection();c&&c.rangeCount>0?c.getRangeAt(0).insertNode(y):l.appendChild(y),o(),d.close()}};i.addEventListener("click",n),b.addEventListener("keydown",r=>{r.key==="Enter"&&(r.preventDefault(),n())});const f=e.querySelector(".ubits-button--secondary");f&&f.addEventListener("click",()=>{d.close()})}}function J(l,o){const s=`ubits-rich-text-table-modal-${Date.now()}`,a=`${s}-rows`,p=`${s}-cols`,d={title:"Insertar tabla",size:"sm",bodyContent:`
      <div style="padding: var(--ubits-spacing-md, 8px) 0;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--ubits-spacing-lg, 16px);">
          <div>
            <label class="ubits-input-label" style="margin-bottom: var(--ubits-spacing-sm, 8px);">
              Filas:
            </label>
            <input 
              type="number" 
              id="${a}"
              class="ubits-input ubits-input--md"
              value="2"
              min="1"
              max="20"
              style="width: 100%;"
            />
          </div>
          <div>
            <label class="ubits-input-label" style="margin-bottom: var(--ubits-spacing-sm, 8px);">
              Columnas:
            </label>
            <input 
              type="number" 
              id="${p}"
              class="ubits-input ubits-input--md"
              value="2"
              min="1"
              max="20"
              style="width: 100%;"
            />
          </div>
        </div>
      </div>
    `,footerButtons:{secondary:{label:"Cancelar",onClick:()=>{}},primary:{label:"Insertar",onClick:()=>{}}},onClose:()=>{const y=document.getElementById(s)?.closest(".ubits-modal-overlay");y&&setTimeout(()=>y.remove(),300)},closeOnOverlayClick:!0,open:!0},e=M(d),i=e.element;i.id=s;const b=i.querySelector(".ubits-button--primary"),n=document.getElementById(a),f=document.getElementById(p);b&&n&&f&&b.addEventListener("click",()=>{const y=parseInt(n.value)||2,c=parseInt(f.value)||2;if(y>0&&c>0){const t=document.createElement("table");t.style.borderCollapse="collapse",t.style.width="100%",t.style.margin="var(--ubits-spacing-sm, 8px) 0",t.style.border="1px solid var(--ubits-border-1)";for(let g=0;g<y;g++){const v=document.createElement("tr");for(let h=0;h<c;h++){const x=document.createElement("td");x.style.border="1px solid var(--ubits-border-1)",x.style.padding="var(--ubits-spacing-sm, 8px)",x.style.minWidth="50px",x.textContent=" ",v.appendChild(x)}t.appendChild(v)}const m=window.getSelection();m&&m.rangeCount>0?m.getRangeAt(0).insertNode(t):l.appendChild(t),o(),e.close()}});const r=i.querySelector(".ubits-button--secondary");r&&r.addEventListener("click",()=>{e.close()})}function K(l,o){const s=`ubits-rich-text-link-modal-${Date.now()}`,a=`${s}-input`,p={title:"Insertar enlace",size:"md",bodyContent:`
      <div style="padding: var(--ubits-spacing-md, 8px) 0;">
        <label class="ubits-input-label" style="margin-bottom: var(--ubits-spacing-sm, 8px);">
          URL del enlace:
        </label>
        <input 
          type="text" 
          id="${a}"
          class="ubits-input ubits-input--md"
          placeholder="https://ejemplo.com"
          style="width: 100%; box-sizing: border-box;"
        />
      </div>
    `,footerButtons:{secondary:{label:"Cancelar",onClick:()=>{}},primary:{label:"Insertar",onClick:()=>{}}},onClose:()=>{const f=document.getElementById(s)?.closest(".ubits-modal-overlay");f&&setTimeout(()=>f.remove(),300)},closeOnOverlayClick:!0,open:!0},d=M(p),e=d.element;e.id=s;const i=e.querySelector(".ubits-button--primary"),b=document.getElementById(a);i&&b&&i.addEventListener("click",()=>{const f=b.value.trim();f&&(document.execCommand("createLink",!1,f),o(),d.close())});const n=e.querySelector(".ubits-button--secondary");n&&n.addEventListener("click",()=>{d.close()}),b&&b.addEventListener("keydown",f=>{f.key==="Enter"&&(f.preventDefault(),i&&i.click())})}function Q(l,o,s){const a=l.querySelector(".ubits-input-rich-text-toolbar");if(!a)return;const p=o.closest(".ubits-input-rich-text-wrapper");if(!p)return;const d=o.placeholder||"",e=document.createElement("div");e.className=o.className;const i=window.getComputedStyle(o);e.style.cssText=o.style.cssText,e.style.position="relative",e.style.padding=i.padding||"12px 12px",e.style.margin="0",e.style.outline="none",e.style.overflow="auto",e.style.minHeight=i.minHeight||"80px",e.style.resize="vertical",e.contentEditable="true",e.setAttribute("data-placeholder",d);let b=l.closest(".ubits-input-wrapper");b||(b=l.parentElement?.closest(".ubits-input-wrapper")),b||(b=document.getElementById(l.id)?.parentElement?.closest(".ubits-input-wrapper")),console.log("[Rich Text Placeholder] ===== DEBUG ALINEAMIENTO ====="),console.log("[Rich Text Placeholder] inputWrapper:",b),console.log("[Rich Text Placeholder] container:",l),console.log("[Rich Text Placeholder] container.parentElement:",l.parentElement),console.log("[Rich Text Placeholder] richTextWrapper:",p),console.log("[Rich Text Placeholder] richTextWrapper.parentElement:",p?.parentElement);let n=null;if(b&&(n=b.querySelector(".ubits-input-icon-left")),!n&&l.parentElement&&(n=l.parentElement.querySelector(".ubits-input-icon-left")),!n&&p?.parentElement&&(n=p.parentElement.querySelector(".ubits-input-icon-left")),!n){const c=document.querySelectorAll(".ubits-input-icon-left");for(const t of Array.from(c)){const m=t,g=l.getBoundingClientRect(),v=m.getBoundingClientRect();if(Math.abs(v.top-g.top)<100){n=m;break}}}const f=n!==null;if(console.log("[Rich Text Placeholder] leftIconElement:",n),console.log("[Rich Text Placeholder] hasLeftIcon:",f),f&&n){const c=n.getBoundingClientRect(),t=window.getComputedStyle(n),m=t.left,g=t.top,v=t.transform;console.log("[Rich Text Placeholder] Icono encontrado:",n),console.log("[Rich Text Placeholder] Icono rect:",c),console.log("[Rich Text Placeholder] Icono left (computed):",m),console.log("[Rich Text Placeholder] Icono top (computed):",g),console.log("[Rich Text Placeholder] Icono transform:",v);const h=i.paddingLeft||"12px",x=i.paddingTop||"12px",u=i.paddingRight||"12px",T=i.paddingBottom||"12px";console.log("[Rich Text Placeholder] Textarea padding:",{left:h,top:x,right:u,bottom:T});const I=e.getBoundingClientRect();console.log("[Rich Text Placeholder] EditableDiv rect:",I);const L=c.left-I.left,k=c.top-I.top,R=c.bottom-I.top;console.log("[Rich Text Placeholder] Icono posición relativa:",{left:L,top:k,bottom:R});const D=i.lineHeight||"1.5",C=i.fontSize||"14px";console.log("[Rich Text Placeholder] Texto:",{fontSize:C,lineHeight:D}),e.setAttribute("data-has-left-icon","true"),e.style.setProperty("--placeholder-left",h),e.style.setProperty("--placeholder-top",x),console.log("[Rich Text Placeholder] Variables CSS establecidas:",{"--placeholder-left":h,"--placeholder-top":x}),requestAnimationFrame(()=>{e.querySelector("::before")||window.getComputedStyle(e,"::before");const E=window.getComputedStyle(e,"::before");console.log("[Rich Text Placeholder] Después de render:",{placeholderLeft:E.left,placeholderTop:E.top,placeholderWidth:E.width,placeholderHeight:E.height})})}else{const c=i.paddingTop||"12px",t=i.paddingLeft||"12px";console.log("[Rich Text Placeholder] Sin icono, usando valores por defecto:",{paddingTop:c,paddingLeft:t}),e.style.setProperty("--placeholder-top",c),e.style.setProperty("--placeholder-left",t)}console.log("[Rich Text Placeholder] ===== FIN DEBUG ====="),o.value&&o.value.trim()?e.innerHTML=o.value:e.classList.add("ubits-rich-text-placeholder"),o.style.display="none",o.setAttribute("data-rich-text-editor","true"),p.insertBefore(e,o),f&&n&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{let c=n;if(b&&(c=b.querySelector(".ubits-input-icon-left")||n),!c&&l.parentElement&&(c=l.parentElement.querySelector(".ubits-input-icon-left")||n),c){const t=c.getBoundingClientRect(),m=e.getBoundingClientRect();if(console.log("[Rich Text Placeholder] Después de insertar en DOM:"),console.log("[Rich Text Placeholder] Icono rect:",t),console.log("[Rich Text Placeholder] EditableDiv rect:",m),m.width>0&&m.height>0){const g=t.top-m.top,v=t.bottom-m.top,h=t.left-m.left;console.log("[Rich Text Placeholder] Posiciones relativas:",{iconTop:g,iconBottom:v,iconLeft:h,iconCenterY:g+t.height/2});const x=g+t.height/2,u=parseFloat(i.fontSize||"16px"),T=i.lineHeight;let I;T==="normal"?I=u*1.2:T.includes("px")?I=parseFloat(T):I=u*parseFloat(T);const L=parseFloat(i.paddingTop||"12px"),k=L+u*.75,R=x-k,D=L+R;console.log("[Rich Text Placeholder] Cálculos de alineamiento:",{iconCenterY:x,fontSize:u,lineHeight:I,paddingTop:L,textBaselineY:k,offset:R,adjustedTop:D});const C=Math.max(0,D),S=(e.style.padding||i.padding||"12px 12px").split(" "),B=S[1]||S[0]||"12px",q=S[2]||S[0]||"12px",A=S[3]||S[1]||S[0]||"40px";e.style.padding=`${C}px ${B} ${q} ${A}`,e.style.setProperty("--placeholder-top",`${C}px`),e.style.setProperty("--placeholder-left",A),console.log("[Rich Text Placeholder] Variables CSS finales:",{"--placeholder-top":`${C}px`,"--placeholder-left":A,"editableDiv padding actualizado":`${C}px ${B} ${q} ${A}`})}else console.warn("[Rich Text Placeholder] EditableDiv aún no tiene dimensiones válidas")}})});const r=c=>{const t=e.innerText||"";o.value=t,s&&s(t,c),t.trim()?e.classList.remove("ubits-rich-text-placeholder"):e.classList.add("ubits-rich-text-placeholder")};e.addEventListener("input",r),e.addEventListener("blur",r),e.addEventListener("focus",()=>{e.classList.contains("ubits-rich-text-placeholder")&&(e.textContent="",e.classList.remove("ubits-rich-text-placeholder"));const c=p.querySelector(".ubits-input-rich-text-toolbar");if(c){const t=window.getComputedStyle(c).borderBottom;window.getComputedStyle(c).borderTop,t&&t!=="none"&&t!=="0px"&&(console.warn("[Rich Text] ⚠️ Línea divisoria detectada en focus, removiendo..."),c.style.borderBottom="none",c.style.borderTop="none")}}),p.addEventListener("mouseenter",()=>{const c=p.querySelector(".ubits-input-rich-text-toolbar");if(c){const t=window.getComputedStyle(c).borderBottom;t&&t!=="none"&&t!=="0px"&&(console.warn("[Rich Text] ⚠️ Línea divisoria detectada en hover, removiendo..."),c.style.borderBottom="none",c.style.borderTop="none")}}),a.querySelectorAll(".ubits-rich-text-btn").forEach(c=>{c.addEventListener("click",t=>{t.preventDefault(),e.focus();const m=c.getAttribute("data-command");if(m){if(m==="insertImage")G(e,r);else if(m==="insertTable")J(e,r);else if(m==="createLink")K(e,r);else if(m==="code"){const g=window.getSelection();if(g&&g.rangeCount>0){const v=g.getRangeAt(0),h=document.createElement("code");h.style.background="var(--ubits-bg-2)",h.style.padding="var(--ubits-spacing-xs, 2px) var(--ubits-spacing-sm, 4px)",h.style.borderRadius="var(--ubits-border-radius-sm, 4px)",h.style.fontFamily="var(--font-mono, monospace)";try{v.surroundContents(h)}catch{h.textContent=v.toString(),v.deleteContents(),v.insertNode(h)}}}else document.execCommand(m,!1,void 0);r()}})})}function X(l,o){let s=l.closest(".ubits-input-wrapper");s||(s=l.parentElement?.closest(".ubits-input-wrapper")),s||(s=document.getElementById(l.id)?.parentElement?.closest(".ubits-input-wrapper"));let a=null;if(s&&(a=s.querySelector(".ubits-input-icon-left")),!a&&l.parentElement&&(a=l.parentElement.querySelector(".ubits-input-icon-left")),!a){const d=document.querySelectorAll(".ubits-input-icon-left");for(const e of Array.from(d)){const i=e,b=l.getBoundingClientRect(),n=i.getBoundingClientRect();if(Math.abs(n.top-b.top)<100){a=i;break}}}!(a!==null)||!a||requestAnimationFrame(()=>{requestAnimationFrame(()=>{const d=s?.querySelector(".ubits-input-icon-left")||a;if(d&&o){const e=d.getBoundingClientRect(),i=o.getBoundingClientRect();if(i.width>0&&i.height>0){const b=e.top-i.top;e.bottom-i.top,e.left-i.left;const n=b+e.height/2,f=window.getComputedStyle(o),r=parseFloat(f.fontSize||"16px"),y=parseFloat(f.paddingTop||"12px"),c=y+r*.75,t=n-c,m=y+t,g=Math.max(0,m),h=(f.padding||"12px 12px").split(" "),x=h[1]||h[0]||"12px",u=h[2]||h[0]||"12px",T=h[3]||h[1]||h[0]||"40px";o.style.padding=`${g}px ${x} ${u} ${T}`}}})})}export{it as c,O as r};
