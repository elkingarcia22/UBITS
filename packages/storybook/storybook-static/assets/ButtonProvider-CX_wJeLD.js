import{c as B,r as _}from"./ListProvider-Dp4g9_1Y.js";import{r as j}from"./SpinnerProvider-o6XHV06V.js";function p(e,i="regular"){try{const o=i==="solid"?"fas":"far",t=e.startsWith("fa-")?e:`fa-${e}`;return`<i class="${o} ${t}"></i>`}catch{const t=i==="solid"?"fas":"far",s=e.startsWith("fa-")?e:`fa-${e}`;return`<i class="${t} ${s}"></i>`}}function P(e){const{variant:i="primary",size:o="md",text:t="",icon:s,iconStyle:a="regular",iconOnly:r=!1,disabled:h=!1,loading:n=!1,loadingText:d,badge:f=!1,active:m=!1,fullWidth:v=!1,block:$=!1,iconPosition:c="left",className:y="",attributes:L={},dropdown:b=!1,showTooltip:M=!1,tooltipText:k=""}=e,z=["ubits-button",`ubits-button--${i}`,`ubits-button--${o}`,m&&"ubits-button--active",r&&"ubits-button--icon-only",n&&"ubits-button--loading",v&&"ubits-button--full-width",$&&"ubits-button--block",c==="right"&&"ubits-button--icon-right",b&&"ubits-button--dropdown",y].filter(Boolean).join(" "),E=[h&&"disabled",n&&'data-loading="true"',n&&'aria-busy="true"',...Object.entries(L).map(([S,I])=>`${S}="${I}"`)].filter(Boolean).join(" ");let w="";s&&(w=p(s,a));let u=w,x=c;b&&!s&&t?(u=p("chevron-down",a),x="right"):b&&s&&c==="left"&&t?u=`${w}${p("chevron-down",a)}`:b&&!t&&(u=s?`${w}${p("chevron-down",a)}`:p("chevron-down",a));const O={xs:"xs",sm:"sm",md:"sm",lg:"md",xl:"lg"}[o]||"sm",T={primary:"primary",secondary:"secondary",tertiary:"secondary",active:"primary"}[i]||"primary",g=n?j({size:O,variant:T,animated:!0,className:"ubits-button__spinner"}):"";let l="";n&&d?l=`${g}<span class="button-text">${d}</span>`:n&&!t?l=g:n&&t?c==="right"?l=`<span class="button-text">${t}</span>${g}`:l=`${g}<span class="button-text">${t}</span>`:r&&s?l=w:u&&t?b&&s&&c==="left"?l=`${p(s,a)}<span>${t}</span>${p("chevron-down",a)}`:x==="right"?l=`<span>${t}</span>${u}`:l=`${u}<span>${t}</span>`:t?l=b?`<span>${t}</span>${p("chevron-down",a)}`:`<span>${t}</span>`:u&&(l=u);const C=f?'<span class="ubits-button__badge"></span>':"",H=r&&M&&k?`title="${k}"`:"";return`
    <button class="${z}" ${E} ${H}>
      ${l}
      ${C}
    </button>
  `.trim()}function D(e){const i=document.createElement("div");i.style.position="relative",i.style.display="inline-block",i.innerHTML=P(e);const o=i.querySelector("button");if(!o)throw new Error("Failed to create button element");if(e.onClick&&o.addEventListener("click",e.onClick),e.dropdown&&e.dropdownOptions&&e.dropdownOptions.length>0){const t=document.createElement("div");t.className="ubits-button-dropdown-container",t.style.cssText=`
      position: absolute;
      top: 100%;
      left: 0;
      z-index: 1000;
      margin-top: 4px;
      display: none;
      min-width: 100%;
    `,i.appendChild(t);const s=e.size==="xs"?"xs":e.size==="sm"?"sm":e.size==="md"?"md":"lg",a=e.dropdownOptions.map(n=>({label:n.label,state:"default",value:n.value||n.label,selected:!1}));let r=!1;const h=()=>{if(r){t.style.display="none",r=!1;return}const n=`button-dropdown-${Math.random().toString(36).substr(2,9)}`;t.id=n,t.innerHTML="";try{B({containerId:n,items:a,size:s,maxHeight:"200px",onSelectionChange:(d,f)=>{if(d&&e.dropdownOptions&&e.dropdownOptions[f]){const m=e.dropdownOptions[f];m.onClick&&m.onClick(new MouseEvent("click"),{label:d.label,value:d.value}),t.style.display="none",r=!1}}})}catch(d){console.warn("Using renderList fallback for button dropdown:",d);const f=_({items:a,size:s,maxHeight:"200px"});t.innerHTML=f,t.querySelectorAll(".ubits-list-item").forEach((v,$)=>{const c=a[$];c&&c.state!=="disabled"&&e.dropdownOptions&&e.dropdownOptions[$]&&v.addEventListener("click",()=>{const y=e.dropdownOptions[$];y.onClick&&y.onClick(new MouseEvent("click"),{label:c.label,value:c.value}),t.style.display="none",r=!1})})}t.style.display="block",r=!0};o.addEventListener("click",n=>{n.stopPropagation(),!e.disabled&&!e.loading&&h()}),document.addEventListener("click",n=>{i.contains(n.target)||(t.style.display="none",r=!1)})}return e.dropdown,o}export{D as c,P as r};
