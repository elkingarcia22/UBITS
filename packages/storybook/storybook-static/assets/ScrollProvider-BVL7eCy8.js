function T(g){const{orientation:m="vertical",state:v="default",className:s=""}=g;return`
    <div class="${["ubits-scrollbar",`ubits-scrollbar--${m}`,v?`ubits-scrollbar--${v}`:"",s].filter(Boolean).join(" ")}">
      <div class="ubits-scrollbar__bar"></div>
    </div>
  `.trim()}function $(g){const{containerId:m,targetId:v,orientation:s="vertical",state:L="default",className:H=""}=g;let f;m?f=document.getElementById(m)||document.body:f=document.body;const _=document.createElement("div");_.innerHTML=T({orientation:s,state:L,className:H});const r=_.firstElementChild;if(!r)throw new Error("No se pudo crear el scrollbar");const l=r.querySelector(".ubits-scrollbar__bar");if(!l)throw new Error("No se pudo encontrar la barra del scrollbar");let t=null;if(v)t=document.getElementById(v);else if(m){const e=f.querySelector("[data-scrollable]");e&&(t=e)}const c=()=>{if(!t||!l)return;const e=s==="vertical",o=e?"scrollTop":"scrollLeft",h=e?"clientHeight":"clientWidth",p=e?"scrollHeight":"scrollWidth",b=t[o],i=t[h],d=t[p];if(d<=i){l.style.opacity="0";return}const n=e?r.clientHeight:r.clientWidth,a=Math.max(i/d*n,20),u=n-a,z=b/(d-i)*u;e?(l.style.height=`${a}px`,l.style.transform=`translateY(${z}px)`):(l.style.width=`${a}px`,l.style.transform=`translateX(${z}px)`),l.style.opacity="1"},M=e=>{if(!t||!l||e.target===l)return;e.preventDefault(),e.stopPropagation();const o=s==="vertical",h=r.getBoundingClientRect(),p=o?e.clientY-h.top:e.clientX-h.left,b=o?r.clientHeight:r.clientWidth,i=p/b,d=o?"clientHeight":"clientWidth",n=o?"scrollHeight":"scrollWidth",a=o?"scrollTop":"scrollLeft",u=t[d],W=t[n]-u;t[a]=i*W};let S=!1,P=0,w=0;const x=e=>{if(!t||!l||e.target!==l)return;e.preventDefault(),e.stopPropagation(),S=!0;const o=s==="vertical";P=o?e.clientY:e.clientX,w=o?t.scrollTop:t.scrollLeft,document.addEventListener("mousemove",E),document.addEventListener("mouseup",y)},E=e=>{if(!S||!t||!l)return;const o=s==="vertical",p=(o?e.clientY:e.clientX)-P,b=o?r.clientHeight:r.clientWidth,i=o?t.clientHeight:t.clientWidth,n=(o?t.scrollHeight:t.scrollWidth)-i,a=n/b,u=w+p*a;o?t.scrollTop=Math.max(0,Math.min(n,u)):t.scrollLeft=Math.max(0,Math.min(n,u))},y=()=>{S=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",y)};if(t){t.addEventListener("scroll",c),t.addEventListener("resize",c);const e=new ResizeObserver(()=>{c()});e.observe(t),r.__resizeObserver=e}return r.addEventListener("click",M),l.addEventListener("mousedown",x),r.__handleMouseUp=y,r.__handleMouseMove=E,f.appendChild(r),setTimeout(()=>{c()},100),{element:r,update:c,destroy:()=>{if(t){t.removeEventListener("scroll",c),t.removeEventListener("resize",c);const e=r.__resizeObserver;e&&e.disconnect()}r.removeEventListener("click",M),l.removeEventListener("mousedown",x),r.__handleMouseUp&&(document.removeEventListener("mousemove",r.__handleMouseMove),document.removeEventListener("mouseup",r.__handleMouseUp)),r.remove()}}}export{$ as createScrollbar,T as renderScrollbar};
