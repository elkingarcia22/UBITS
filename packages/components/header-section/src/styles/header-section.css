/* ========================================
   UBITS HEADER SECTION COMPONENT
   Componente de encabezado de sección con título y acciones
   Usando tokens UBITS del nuevo sistema Figma
   ======================================== */

.ubits-header-section {
    display: flex;
    flex-direction: column;
    width: 100%;
    gap: var(--ubits-spacing-none);
    padding: 0 0 var(--ubits-spacing-md) 0;
}

.ubits-header-section__content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    gap: var(--ubits-spacing-md);
}

/* ========================================
   TITLE WRAPPER
   ======================================== */

.ubits-header-section__title-wrapper {
    display: flex;
    align-items: center;
    gap: var(--ubits-spacing-sm);
    flex: 1;
    min-width: 0; /* Permitir que el título se trunque si es necesario */
}

.ubits-header-section__title-group {
    display: flex;
    align-items: center;
    gap: var(--ubits-spacing-xs);
    flex: 1;
    min-width: 0;
}

/* Quitar gap derecho del botón de información */
.ubits-header-section__title-group [data-info-button="true"] {
    margin-right: calc(var(--ubits-spacing-xs) * -1);
}

.ubits-header-section__title-wrapper .ubits-heading-h2 {
    margin: var(--ubits-spacing-none);
    color: var(--modifiers-normal-color-light-fg-1-high);
    flex: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.ubits-header-section__title-group .ubits-heading-h2 {
    margin: var(--ubits-spacing-none);
    flex: 0 1 auto; /* No crecer, solo encogerse si es necesario */
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ========================================
   BACK BUTTON
   ======================================== */

.ubits-header-section__back-button {
    flex-shrink: 0;
}

/* ========================================
   STATUS TAG WRAPPER
   ======================================== */

.ubits-header-section__status-tag-wrapper {
    display: inline-flex;
    align-items: center;
    flex-shrink: 0;
    margin-left: var(--ubits-spacing-sm);
}

/* ========================================
   ACTIONS
   ======================================== */

.ubits-header-section__actions {
    display: flex;
    align-items: center;
    gap: var(--ubits-spacing-sm);
    flex-shrink: 0;
    position: relative;
}

/* ========================================
   OPTIONS DROPDOWN MENU
   ======================================== */

.ubits-header-section-options-dropdown {
    position: absolute;
    right: 0;
    top: calc(100% + var(--ubits-spacing-sm));
    z-index: 1000;
    min-width: calc(var(--ubits-spacing-12) * 2.5);
    background: var(--modifiers-normal-color-light-bg-1);
    border: 1px solid var(--modifiers-normal-color-light-border-1);
    border-radius: var(--ubits-border-radius-md);
    box-shadow: 0 calc(var(--ubits-spacing-xs) * 1) calc(var(--ubits-spacing-md) * 1) rgba(0, 0, 0, 0.15);
    overflow: hidden;
}

.ubits-header-section-options-dropdown .ubits-list {
    border: none;
    border-radius: var(--ubits-border-radius-none);
    box-shadow: none;
    max-height: none;
    overflow-y: visible;
    overflow-x: hidden;
}

/* ========================================
   BREADCRUMB WRAPPER
   ======================================== */

.ubits-header-section__breadcrumb-wrapper {
    margin-top: var(--ubits-spacing-md);
    width: 100%;
    display: flex;
    justify-content: flex-start;
    align-items: center;
}

/* ========================================
   RESPONSIVE
   ======================================== */

/* Tablet y Desktop pequeño (768px - 1023px) */
@media (max-width: 1023px) {
    .ubits-header-section {
        padding: 0 0 var(--ubits-spacing-sm) 0;
    }

    .ubits-header-section__content {
        gap: var(--ubits-spacing-sm);
    }

    .ubits-header-section__actions {
        gap: var(--ubits-spacing-xs);
    }
}

/* Tablet (480px - 767px) - Permitir wrap solo si no hay espacio */
@media (max-width: 767px) {
    .ubits-header-section__content {
        flex-wrap: wrap;
        gap: var(--ubits-spacing-sm);
    }

    .ubits-header-section__title-wrapper {
        flex: 1 1 auto;
        min-width: 0;
        max-width: 100%;
    }

    .ubits-header-section__title-group {
        flex: 1 1 auto;
        min-width: 0;
    }

    .ubits-header-section__title-group .ubits-heading-h2 {
        font-size: var(--modifiers-normal-heading-h3-fontsize);
        line-height: var(--modifiers-normal-heading-h3-lineheight);
    }

    .ubits-header-section__actions {
        flex: 0 0 auto;
        justify-content: flex-end;
        gap: var(--ubits-spacing-xs);
    }
}

/* Móvil (< 480px) */
@media (max-width: 479px) {
    .ubits-header-section {
        padding: 0 0 var(--ubits-spacing-xs) 0;
    }

    .ubits-header-section__content {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--ubits-spacing-sm);
    }

    .ubits-header-section__title-wrapper {
        width: 100%;
        min-width: 0;
    }

    .ubits-header-section__title-group {
        width: 100%;
        min-width: 0;
        flex-wrap: wrap;
        gap: var(--ubits-spacing-xs);
    }

    .ubits-header-section__title-group .ubits-heading-h2 {
        font-size: var(--modifiers-normal-heading-h3-fontsize);
        line-height: var(--modifiers-normal-heading-h3-lineheight);
        width: 100%;
        min-width: 0;
    }

    .ubits-header-section__status-tag-wrapper {
        margin-left: var(--ubits-spacing-none);
        margin-top: var(--ubits-spacing-xs);
    }

    .ubits-header-section__actions {
        width: 100%;
        justify-content: flex-end;
        flex-wrap: wrap;
        gap: var(--ubits-spacing-xs);
    }

    /* En móvil, permitir que los botones se adapten naturalmente */
    .ubits-header-section__actions .ubits-button {
        flex-shrink: 0;
    }

    /* Breadcrumb en móvil */
    .ubits-header-section__breadcrumb-wrapper {
        margin-top: var(--ubits-spacing-sm);
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .ubits-header-section__breadcrumb-wrapper .ubits-breadcrumb {
        min-width: max-content;
    }
}

/* ========================================
   DARK MODE
   ======================================== */

[data-theme="dark"] .ubits-header-section__title-wrapper .ubits-heading-h2 {
    color: var(--modifiers-normal-color-dark-fg-1-high);
}

[data-theme="dark"] .ubits-header-section-options-dropdown {
    background: var(--modifiers-normal-color-dark-bg-1);
    border-color: var(--modifiers-normal-color-dark-border-1);
}


